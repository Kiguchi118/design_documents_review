# ER図2
## 全体
- 配送先デーブルが無い
  > 複数の配送先があった場合，どのように情報を管理しますか？
- 商品と購入詳細の関連が無い
  > 購入詳細に商品の情報を保存できないですが，問題ないでしょうか？
- Railsで自動で作成されるidカラムが記述されていない
  > 主キーのidのカラム名は「id」だけで問題ありません．
- 商品とディスクの多重度
  > 商品とディスクの多重度が適切でないので，リレーションを見直しましょう．
- ディスクと曲名の多重度
  > ディスクと曲名の多重度が適切でないので，リレーションを見直しましょう．
- 購入と購入詳細の多重度
  > 購入と購入詳細の多重度が適切でないので，リレーションを見直しましょう．

## エンドユーザ
- 「名」が無い
  > 名を保存するカラムがないので，確認しましょう．
- 主キー名が異なる
  > テーブル名と主キーのカラム名は一致させましょう．

## 購入
- 役割に適したテーブル名でない
  > テーブル名から役割を推測しづらいため，「注文」と言った名前にしましょう．
- 購入日がある
  > カラムに登録日があります．購入日は必要でしょうか？
- 購入詳細テーブルとの多重度が逆
  > 購入と購入詳細の多重度が適切でないので，リレーションを見直しましょう．
- 購入詳細idがある
  > 上記によって，不要な外部キーを除きましょう．
- 配送先のカラム（氏名，郵便番号，住所）がない
  > 配送先（氏名，郵便番号，住所）を保存させるカラムが必要です．
- 配送ステータスがない
  > 配送状態を保存させるカラムが必要です．

## 購入詳細
- 役割に適したテーブル名でない
  > テーブル名から役割を推測しづらいため，「注文詳細」と言った名前にしましょう．
- 購入時価格を保存するカラムが無い
  > 購入時の価格を保存させるカラムが必要です．
- 「小計金額」がある
  > 小計金額は他のカラムから算出できるため，不要です．
- 外部キーの商品idと購入idがない
  > リレーションの修正の後，必要な外部キーを追加させましょう
- 購入テーブルとの多重度が逆
  > 購入と購入詳細の多重度が適切でないので，リレーションを見直しましょう．

## ディスク
- 「トラックNo.」がある
  > ディスクにトラックNo.は必要でしょうか？
- ソート番号を保存するカラムが無い
  > ソート番号を保存させるカラムが必要です．
- 商品テーブルとの多重度が逆
  > ディスクと商品の多重度が適切でないので，リレーションを見直しましょう．
- 外部キーの商品idがない
  > リレーションの修正の後，必要な外部キーを追加させましょう

## 曲
- トラック番号を保存するカラムが無い
  > トラック番号を保存させるカラムが必要です．
- ディスクテーブルとの多重度が逆
  > 曲とディスクの多重度が適切でないので，リレーションを見直しましょう．
- 外部キーのディスクidがない
  > リレーションの修正の後，必要な外部キーを追加させましょう

## ジャンル
- ジャンル名を保存するカラム名が適切でない
  > ジャンルの名前のカラム名を「ジャンル名」など，分かりやすくさせましょう．

## レーベル
- レーベル名を保存するカラム名が適切でない
  > レーベルの名前のカラム名を「レーベル名」など，分かりやすくさせましょう．

## 商品
- 「ステータス」がどのようなステータスなのか分からない
  > 何についてのステータスなのか分かりづらいため「販売ステータス」など，分かりやすくさせましょう．
- 「在庫数」がある
  > 商品に在庫数は必要でしょうか？入荷記録と受注詳細記録から算出されるはずです．
- 発売日を保存するカラムがない
  > 発売日を保存させるカラムが必要です．
- 「ディスク枚数」がある
  > 商品にディスク枚数は必要でしょうか？

## カート
- 役割に適したテーブル名でない
  > テーブル名から役割を推測しづらいため，「カート内商品」と言った名前にしましょう．
- 主キー名が適切でない
  > テーブル名と主キー名は同じ名前にさせましょう．
- 「小計金額」がある
  > 小計金額を保存させる必要はありますでしょうか？
- 外部キーのユーザidがない
  > リレーションを確認し，必要な外部キーを記述しましょう．

## 

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

##レビュー1回目

##購入
- 購入詳細テーブルと購入テーブルの関係が購入詳細1に対して購入テーブルが多になっていますがよろしいでしょうか。
- また上記に伴って不要なカラムが発生しています。
- 配送先の宛名や郵便番号はどうしますか・
- 購入した商品が今どの状態にあるかわからないです。

##購入詳細
- 小計金額に着目した点は良いのですが、もしこのままですと商品の金額が変わった時に購入詳細の金額も変わってしまうので別のカラムが必要になります。
- 購入詳細テーブルと購入テーブルの関係が購入詳細1に対して購入テーブルが多になっていることで必要なカラムがあります。

##ディスク
- この場合ディスク名は不要です。
- ディスクと商品の関係がディスク1に対して商品が多になっていますがよろしいでしょうか。
- 上記に伴って変更が必要なカラムがあります。

##曲
- 曲とディスクの関係が曲1に対してディスクが多になっていますがよろしいでしょうか。
- 上記に伴って必要なカラムがあります。

##商品
- 今回ステータスが論理削除の役割をしています。
- いつ発売したのかの情報がありません。
- ディスクの枚数はリレーションで数えられます。

##カート
- この場合ユーザidはどうなりますか。

##レビュー2回目
合格です
